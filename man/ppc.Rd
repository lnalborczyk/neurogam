% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/testing_through_time.R
\name{ppc}
\alias{ppc}
\title{Posterior predictive checks}
\usage{
ppc(
  object,
  ppc_type = c("group", "participant"),
  ndraws = 500,
  group_var = NULL,
  cores = 4,
  ...
)
}
\arguments{
\item{object}{A \code{clusters_results} object containing a fitted
\code{\link[brms]{brmsfit}} model in \code{object$model}.}

\item{ppc_type}{Character string specifying the type of PPC to generate.
Either \code{"group"} (default) for group-level PPCs (ignoring participant
identity) or \code{"participant"} for participant-wise PPCs.}

\item{ndraws}{Integer specifying the number of posterior draws to use for
the PPC. Defaults to 500.}

\item{group_var}{Optional character; name of the grouping variable to use for
grouped PPCs at the group level. If NULL (default), the function uses
"predictor" when present in model$data and binary (two levels).}

\item{cores}{Numeric; number of parallel cores to use (only used when \code{ppc_type = "participant"}).}

\item{...}{Currently unused. Included for future extensions.}
}
\value{
A \code{ggplot} object visualising the posterior predictive check.
The plot is printed to the active graphics device and also returned invisibly.
}
\description{
Generate posterior predictive checks (PPCs) from a fitted Bayesian
time-resolved GAMM stored in a \code{clusters_results} object.
PPCs can be produced either at the group level or separately for each participant.
}
\details{
At the group level, predictions are obtained by simulating from the posterior
using \code{\link[brms]{posterior_predict}} with \code{re_formula = NA},
after collapsing the original data across participants (by time).
At the participant level, PPCs are generated using
\code{\link[brms]{pp_check}} with grouped ribbons.


\itemize{
  \item \strong{Group-level PPCs} are computed by averaging numeric variables
  across participants at each time point, and simulating posterior predictive
  draws with random effects excluded (\code{re_formula = NA}).
  This provides a marginal, population-level posterior predictive check.

  \item \strong{Participant-level PPCs} are computed using grouped ribbon
  plots, showing posterior predictive distributions separately for each
  participant.
}

The returned object is a \code{ggplot2} object produced by
\code{\link[bayesplot]{ppc_ribbon}} or \code{\link[brms]{pp_check}},
depending on the selected \code{ppc_type}.
}
\examples{
\dontrun{
# Group-level PPC
ppc(object = res, ppc_type = "group")

# Participant-level PPC
ppc(object = res, ppc_type = "participant")
}

}
\seealso{
\code{\link[brms]{pp_check}},
\code{\link[brms]{posterior_predict}},
\code{\link[bayesplot]{ppc_ribbon}}
}
