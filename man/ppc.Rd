% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/testing_through_time.R
\name{ppc}
\alias{ppc}
\title{Posterior predictive checks for \code{clusters_results} objects}
\usage{
ppc(
  object,
  prefix = c("ppc", "ppd"),
  ppc_type = "ribbon_grouped",
  ndraws = 100,
  group_var = NULL,
  ...
)
}
\arguments{
\item{object}{An object of class \code{"clusters_results"} as returned by
\code{\link{testing_through_time}}. The object must contain a fitted
\pkg{brms} model in its \code{$model} slot.}

\item{prefix}{Character; passed to \code{\link[brms]{pp_check}} to control
whether the function uses posterior predictive checks (\code{"ppc"}) or
posterior predictive distributions (\code{"ppd"}). One of \code{"ppc"}
(default) or \code{"ppd"}.}

\item{ppc_type}{Character; the type of check passed to \code{\link[brms]{pp_check}}
(default: \code{"ribbon_grouped"}). See \pkg{brms} documentation for
available PPC/PPD types.}

\item{ndraws}{Numeric; number of posterior draws used to generate the PPC/PPD
(default: \code{100}).}

\item{group_var}{Optional character; name of the grouping variable to use for
grouped PPCs. If \code{NULL} (default), the function uses \code{"predictor"}
when present in \code{model$data} and binary (two levels). Otherwise it
falls back to \code{"participant"}.}

\item{...}{Additional arguments passed to \code{\link[brms]{pp_check}}.}
}
\value{
A single \pkg{ggplot2} object (invisibly). The plot is also printed as
  a side effect.
}
\description{
Generates a posterior predictive check for the \pkg{brms} model stored
inside a \code{"clusters_results"} object.
The function is a thin wrapper around \code{\link[brms]{pp_check}} that
automatically chooses a grouping variable when possible.
}
\details{
If \code{group_var} is \code{NULL}, the function attempts to detect whether
the model data contain a binary grouping variable named \code{"predictor"}.
If so, it produces a grouped PPC using \code{group = "predictor"}; otherwise
it uses \code{group = "participant"}.

The check is performed over \code{x = "time"} and uses \code{re_formula = NA}
when the grouping variable is \code{"predictor"} (i.e., group-level PPC). When
falling back to participant-level grouping, random effects are included by
default (unless overridden via \code{...}).
}
\examples{
\dontrun{
# import some simulated EEG data
data(eeg_data)
head(eeg_data)

# fit time-resolved model (one-sample test)
res <- testing_through_time(
  data = eeg_data,
  participant_id = "participant",
  outcome_id = "eeg",
  time_id = "time",
  predictor_id = NA,
  kvalue = 10,
  multilevel = "summary"
  )

# posterior predictive checks
ppc(res)
}

}
\seealso{
\code{\link{testing_through_time}}, \code{\link[brms]{pp_check}}
}
