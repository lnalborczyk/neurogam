% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/testing_through_time.R
\name{ppc}
\alias{ppc}
\title{Posterior predictive checks for time-resolved BGAMMs}
\usage{
ppc(
  object,
  ndraws_time = 100,
  ndraws_stat = 100,
  stat = c("mean", "sd"),
  group_var = NULL,
  ...
)
}
\arguments{
\item{object}{An object of class \code{"clusters_results"} as returned by
\code{\link{testing_through_time}}. The object must contain a fitted
\pkg{brms} model in its \code{$model} slot.}

\item{ndraws_time}{Integer; number of posterior draws used for the
distribution-level PPC (density overlay). Defaults to \code{100}.}

\item{ndraws_stat}{Integer; number of posterior draws used for the
statistic-level PPC (mean/SD). Defaults to \code{500}.}

\item{stat}{A character vector of summary statistics to use for the
\code{"stat_2d"} PPC. Passed to \code{\link[brms]{pp_check}} as the
\code{stat} argument. Defaults to \code{c("mean", "sd")}.}

\item{group_var}{Optional character scalar specifying the name of the
grouping variable for the grouped PPC. If \code{NULL} (default), the
function automatically uses \code{"predictor"} when that column exists in
the model data and has exactly two levels (binary predictor). When a
grouping variable is used, the density PPC employs
\code{type = "dens_overlay_grouped"}; otherwise, \code{type = "dens_overlay"}.}

\item{...}{Currently ignored. Included for future extensibility.}
}
\value{
A \pkg{patchwork} / \pkg{ggplot2} object containing the combined
  posterior predictive checks. The plot is also printed as a side effect.
}
\description{
Generates posterior predictive checks (PPCs) for the \pkg{brms} model stored
inside a \code{"clusters_results"} object, displaying:
\enumerate{
  \item a PPC of the predicted outcome distribution (densities), and
  \item a PPC of summary statistics (mean and standard deviation).
}
}
\details{
This function is a convenience wrapper around \code{\link[brms]{pp_check}}
and \pkg{patchwork}. It first tries to detect whether the model contains a
binary grouping variable (by default, a column named \code{"predictor"} in
\code{model$data}). If such a variable is found (or if \code{group_var} is
explicitly provided), the distribution-level PPC is produced using
\code{type = "dens_overlay_grouped"}, which compares predicted and observed
densities within each group. Otherwise, a standard
\code{type = "dens_overlay"} PPC is drawn.

The second panel uses \code{type = "stat_2d"} with the supplied \code{stat}
argument (by default, mean and standard deviation), allowing inspection of
how well the posterior predictive distribution reproduces key summary
statistics of the data.

The two PPC plots are combined side-by-side using
\code{\link[patchwork]{wrap_plots}}, and the resulting combined plot is
returned (and can be further modified using standard \pkg{ggplot2} or
\pkg{patchwork} operations).
}
\examples{
\dontrun{
# import some simulated EEG data
data(eeg_data)
head(eeg_data)

# fit time-resolved model (one-sample test)
res <- testing_through_time(
  data = eeg_data,
  participant_id = "participant",
  outcome_id = "eeg",
  time_id = "time",
  predictor_id = NA,
  kvalue = 10,
  multilevel = "summary"
  )

# posterior predictive checks (combined plot)
ppc(res)
}

}
\seealso{
\code{\link{testing_through_time}},
  \code{\link{print.clusters_results}},
  \code{\link{summary.clusters_results}},
  \code{\link[brms]{pp_check}},
  \code{\link[patchwork]{wrap_plots}}
}
